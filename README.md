## API расписания
[Задание 2](https://academy.yandex.ru/events/frontend/shri_msk-2017/)

### Обоснование выбора инструментов
За основу была взята библиотека Redux. Основные причины:
- Объем (около 2kb);
- Наличие необходимого функционала для работы с коллекциями: подписка на изменения, простой доступ к коллекции;
- Удобство внедрения проверок на возможность изменения коллекции;
- Отличная документация;
- Популярность.
Помимо редакса в зависимостях только uuid для создания уникальных ID и redux-thunk-middleware для доступа к стейту в экшенах.

### Что реализовано
- Возможность создания, изменения и удаления лекций, школ и аудиторий;
- Выполнение проверок на возможность создания, изменения или удаления сущностей;
- Просмотр расписания школы в заданный интервал дат;
- Просмотр графика лекций в аудитории в заданный интервал дат;
- Сериализация/десериализация в JSON;
- Постоянное хранение данных в памяти браузера;
- Веб-интерфейс и интерфейс командной строки для библиотеки.

### Кратко о реализация
Входной файл проекта - src/index.js. В нем объявляется класс, содержащий все необходимые методы для работы с данными.  
Если необходимо включить сохранение данных в localStorage браузера, необходимо прокинуть в конструктор параметр localStorage: true. При каждом изменении данных библиотека запишет в localStorage всю коллекцию. После перезагрузки страницы сессия будет восстановлена.  
Алгоритм добавления данных в стор следующий:
- Вызывает необходимый метод добавления, изменения или удаления.
- Диспатчится экшен, в котором производится проверка на возможность добавления/изменения/удаления данных.
- В ходе проверки формируется массив ошибок. Если ошибок нет, значит данные корректные и можно делать необходимые действия с коллекцией: по типу экшена выбирается редьюсер и выполняются простые действия с коллекцией, такие как добавление нового объекта, изменение существующего со слиянием параметров или удаление. Если ошибки есть, то диспатчится ошибка.
- Экшен дополнительно оборачивается в функцию resolveResult, которая, в зависимости от результата проверок, возвращает resolved- или rejected-промис.  

В исходном коде есть комментарии, по которым можно подробнее узнать о тонкостях. Начать следует с входного файла src/index.js, а также посмотреть сущность rooms. Остальные сущности не комментировал, т.к. они сделаны по-аналогии с аудиториями. 

Полноценный пример использования можно посмотреть в директории example. Он раскатан на gh-pages здесь: https://oktava6.github.io/schedule-api/  
Он страшный (множество форм, выглядит очень жутко), но полноценный. Есть возможность добавлять/изменять/удалять события/школы/комнаты, просматривать события по школам/комнатам и датам, импортировать/экспортировать в JSON. Также можно попробовать библиотеку из консоли - экземпляр доступен в глобальной переменной "scheduleApi".


### Проблемы
К сожалению, не успел написать тесты. Вообще, Redux очень легко покрывается тестами. В этом проекте я скорее всего использовал бы Jasmine, т.к. он прост и не требует наличия DOMа. 

### Запуск примера:
$ npm i  
$ npm run example  
-> localhost:8080/example

### Сборка и деплой примера на gh-pages:
$ example:build  
$ gh:publish  
-> https://oktava6.github.io/schedule-api/
